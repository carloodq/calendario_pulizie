# Descrizione del Programma di Gestione Turni Scolastici

Questo programma crea i turni di pulizie di una scuola, assegnando i collaboratori a delle postazioni.

Il programma genera un calendario scolastico per la gestione dei turni di 50 collaboratori distribuiti su 51 postazioni.

Ogni postazione appartiene ad un reparto, che comprende più postazioni.

## Turni

### Turni Settimanali (Lunedì-Venerdì)
**IMPORTANTE**: I turni settimanali possono essere SOLO "mattina" o "pomeriggio". Il turno "sera" NON esiste per i turni settimanali, con la SOLA ECCEZIONE del reparto PN (Portineria Notturna) che ha turni mattina, pomeriggio e sera.

Il programma implementa una logica di rotazione che assegna settimanalmente il turno mattina ad uno tra i collaboratori di un reparto a rotazione.

**REGOLA FONDAMENTALE**: Tutti i collaboratori lavorano tutte le settimane. Questo significa che se un collaboratore ha restrizioni (ad esempio può fare solo turni mattina), viene comunque assegnato ogni settimana al turno consentito. Di conseguenza, un reparto può avere più collaboratori assegnati allo stesso turno (ad esempio più turni mattina) nella stessa settimana per garantire che tutti lavorino.

## Durata
Il programma crea un calendario per tutte le settimane dalla settimana 15-21 settembre 2025 alla settimana 29 giugno-5 luglio 2026. L'identificativo della settimana è nel formato "data del lunedì-data del venerdì" eg "15/09/2025-19/09/2025"

## Postazioni per reparto
Il programma gestisce i seguenti reparti e le rispettive postazioni (reparto: n_postazioni):

```
{'207': 2, '208/218BIS': 2, '261/251': 2, '222': 2, '228': 6, '224': 1, '245': 2, '203': 2, 'PAGODA 209': 2, 'CEDRI 251': 3, '236': 2, '217': 2, '237': 2, '250': 1, '218': 1, 'PD': 4, 'PN': 3, 'SN': 1, '201 M': 1, '240 G': 1, '230 T': 2, '243': 7}
```

## Collaboratori
I collaboratori gestiti sono:
DONATO
STRINA 
QUARANTA MG
MUSUMECI
TRAMONTANA
BRUNELLI
NADDEI
PRINCIPATO
BRUNI
RIGGIERO
DARIMINI
GIUSTI
DONNARUMMA
CHIARION
SUPPLENTE
RONCONI
BAGLIVO
ERBISTI 
PERRELLA
BALLETTA
INGARGIOLA 
PERASOLE
TODISCO
QUARANTA S
ANGELONE
ANNINO
DI DIO 
SCALIA
ORLANDO
SALERNO 
COTRONEO
SUPPLENTE 30H
GRECO
MONACO 
NAPPI 
PASQUINO
RUSSO
VITIELLO
MIRARCHI
SCALA
PENSOSI
VARGAS(su Di Francia)
DI ROSA
MATTIELLO
CARDONA
DE ROSA
IMPIOMBATO
SPERA 
SALADINO
Suppl3
Suppl4

## Struttura dei Dati
Il programma genera dati con queste informazioni:
collaboratore, reparto, periodo, turno

## Assegnazione Reparti ai Collaboratori
Prima di generare i turni, il programma assegna ogni collaboratore ad un reparto specifico. Questo è il reparto abituale di lavoro del collaboratore e viene mantenuto costante in TUTTI i turni (settimanali e domenicali).

**REGOLA FONDAMENTALE**: Ogni collaboratore ha UN SOLO reparto di assegnazione che rimane costante e invariato in tutte le righe. Il campo "reparto" indica sempre il reparto abituale del collaboratore, mai un valore generico come 'DOMENICA'.

Il programma considera le seguenti preferenze per l'assegnazione:
- RIGGIERO, DARIMINI, GIUSTI, DONNARUMMA, CHIARION sono assegnati al reparto 228
- TODISCO, QUARANTA S, ANGELONE sono assegnati al reparto CEDRI 251
- BRUNELLI, NADDEI, RUSSO sono assegnati al reparto PN
- Gli altri collaboratori sono distribuiti negli altri reparti in modo da rispettare il numero di postazioni per reparto

## Domeniche
Il programma aggiunge anche le domeniche. Queste hanno lo stesso formato, ma "periodo" indica semplicemente la data di quella domenica nel formato "gg/mm/aaaa".
Per la domenica ci sono 3 turni: mattina, pomeriggio e sera.
Le domeniche vengono assegnate a rotazione su tutti i collaboratori esclusi ANGELONE, TRAMONTANA, CHIARION, RONCONI.

**CRUCIALE PER LE DOMENICHE**: Quando il programma crea una riga per un turno domenicale, il campo "reparto" contiene il reparto abituale di assegnazione del collaboratore (lo stesso che appare nei suoi turni settimanali), NON un reparto generico chiamato 'DOMENICA' o qualsiasi altro valore speciale.

## Vincolo Critico: Turno Sera Domenicale e Mattina Settimana Successiva
**REGOLA OBBLIGATORIA**: Un collaboratore che lavora il turno "sera" della domenica NON può avere il turno "mattina" nella settimana immediatamente successiva (quella che inizia il lunedì dopo la domenica). Questo vincolo viene verificato e rispettato rigorosamente per ogni domenica del calendario.

Il programma implementa una logica di controllo che:
1. Identifica i collaboratori assegnati al turno sera di ogni domenica
2. Verifica che questi collaboratori NON siano assegnati al turno mattina della settimana successiva
3. Se necessario, riassegna i turni per rispettare questo vincolo

## Preferenze solo mattina
COTRONEO, GRECO lavorano solo turni mattina (sia in settimana che la domenica, se assegnati). **Questi collaboratori lavorano comunque ogni settimana**, quindi sono assegnati al turno mattina in tutte le settimane.

## Preferenze solo mattina e pomeriggio
ANGELONE, TRAMONTANA, CHIARION, RONCONI non hanno mai turni sera (e sono già esclusi dalle domeniche). **Questi collaboratori lavorano comunque ogni settimana**, quindi sono assegnati ai turni mattina o pomeriggio in tutte le settimane.

## Portineria notturna
Per il reparto PN ci sono 3 tipologie di turni: mattina, pomeriggio e sera. I collaboratori per questo reparto sono BRUNELLI, NADDEI, RUSSO. I turni vanno a rotazione settimanale. **Tutti e tre i collaboratori lavorano ogni settimana**, quindi ci sono tre righe per il reparto PN ogni settimana (una per ogni turno).

## Output
Il programma salva i dati generati e li rende disponibili per l'utilizzo.

## VALIDAZIONE FINALE OBBLIGATORIA

Il programma implementa le seguenti verifiche e le stampa a console:

1. **Turni Settimanali Corretti**: Verifica che per i turni settimanali (periodo con formato "gg/mm/aaaa-gg/mm/aaaa") NON esistano turni "sera", eccetto per il reparto PN
2. **Consistenza Reparto**: Verifica che ogni collaboratore appaia sempre con lo stesso reparto in tutte le righe (sia turni settimanali che domenicali)
3. **No Reparto Generico**: Verifica che NON esista alcuna riga con reparto='DOMENICA' o simili valori generici
4. **Vincolo Sera-Mattina**: Verifica che nessun collaboratore con turno sera domenicale abbia il turno mattina nella settimana immediatamente successiva
5. **Presenza Settimanale**: Verifica che ogni collaboratore appaia almeno una volta in ogni settimana del calendario (escluse le domeniche)
6. **Riepilogo**: Stampa un riepilogo che mostra per ogni collaboratore il reparto assegnato e conferma che è consistente in tutto il file
7. **Conferma Vincoli**: Stampa conferma che tutti i vincoli (preferenze orarie, esclusioni domenicali, rotazioni, presenza settimanale, turni settimanali corretti) sono stati rispettati

Se una qualsiasi verifica fallisce, il programma stampa un messaggio di errore dettagliato indicando quale vincolo è stato violato.